<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>排序算法-希尔</title>
</head>

<body>
    <script>
        /*
         * 希尔排序(插入排序的升级)
         * 1. 使用步长对数值进行交换
         * 2. 减小步长，再次进行交换，直到步长为 1
         *
         * 时间复杂度： 最好O(nlogn)  最坏O(n^2)
         */
        function shellSort(array) {

            let length = array.length;

            // 步长
            let step = Math.floor(length / 2);

            // 外循环，减小步长
            while (step >= 1) {

                // 默认从步长处开始，进行插入排序
                for (let i = step; i < length; i++) {
                    let current = array[i],
                        j = i;

                    while (current < array[j - step] && j > step - 1) {
                        array[j] = array[j - step]; // 进行元素交换，前n个元素替换当前元素
                        j -= step; // 记录前一个元素的位置
                    }

                    array[j] = current;
                }

                step = Math.floor(step / 2);
            }

            return array
        }

        let arr = [5, 4, 6, 8, 1, 3, 7, 2];
        console.log('origin:', arr);

        let res = shellSort(arr);
        console.log('result:', res);
    </script>
</body>

</html>